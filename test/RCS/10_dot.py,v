head	1.3;
access;
symbols;
locks
	ohsaki:1.3; strict;
comment	@# @;


1.3
date	2019.07.06.13.47.43;	author ohsaki;	state Exp;
branches;
next	1.2;

1.2
date	2018.05.26.17.12.48;	author ohsaki;	state Exp;
branches;
next	1.1;

1.1
date	2018.05.26.15.38.29;	author ohsaki;	state Exp;
branches;
next	;


desc
@@


1.3
log
@*** empty log message ***
@
text
@#!/usr/bin/env python3

import re
from test_more import ok, eq
from graphtools import Graph

g = Graph(directed=False, multiedged=True)
g.add_vertex(1)
astr = g.export_graph('dot')
ok(astr)
astr = re.sub(r'^//.*\n', '', astr, flags=re.M)
eq(astr, """graph export_dot {
  node [color=gray90,style=filled];
  "1";
}
""")

g = Graph(directed=False, multiedged=True)
g.add_edge(1, 2)
astr = g.export_graph('dot')
ok(astr)
astr = re.sub(r'^//.*\n', '', astr, flags=re.M)
eq(astr, """graph export_dot {
  node [color=gray90,style=filled];
  "1";
  "2";
  "1" -- "2";
}
""")

g = Graph(directed=True, multiedged=True)
g.add_edge(1, 2)
astr = g.export_graph('dot')
ok(astr)
astr = re.sub(r'^//.*\n', '', astr, flags=re.M)
eq(astr, """digraph export_dot {
  node [color=gray90,style=filled];
  "1";
  "2";
  "1" -> "2";
}
""")

g = Graph(directed=True, multiedged=True)
g.add_edge(1, 2)
g.add_edge(2, 1)
astr = g.export_graph('dot')
ok(astr)
astr = re.sub(r'^//.*\n', '', astr, flags=re.M)
eq(astr, """digraph export_dot {
  node [color=gray90,style=filled];
  "1";
  "2";
  "1" -> "2";
  "2" -> "1";
}
""")

g = Graph(directed=False, multiedged=True)
g.add_edge(1, 2)
g.set_edge_weight_by_id(1, 2, 0, 123)
astr = g.export_graph('dot')
ok(astr)
astr = re.sub(r'^//.*\n', '', astr, flags=re.M)
eq(astr, """graph export_dot {
  node [color=gray90,style=filled];
  "1";
  "2";
  "1" -- "2" [weight="123"];
}
""")

g = Graph(directed=True, multiedged=True)
g.add_edge(1, 2)
g.add_edge(1, 2)
astr = g.export_graph('dot')
ok(astr)
astr = re.sub(r'^//.*\n', '', astr, flags=re.M)
eq(astr, """digraph export_dot {
  node [color=gray90,style=filled];
  "1";
  "2";
  "1" -> "2";
  "1" -> "2";
}
""")
@


1.2
log
@*** empty log message ***
@
text
@d4 1
a4 1
from simpletest import ok, eq
@


1.1
log
@Initial revision
@
text
@d4 1
a4 1
from simpletest import ok
d12 1
a12 1
ok(astr == """graph export_dot {
d23 1
a23 1
ok(astr == """graph export_dot {
d36 1
a36 1
ok(astr == """digraph export_dot {
d50 1
a50 1
ok(astr == """digraph export_dot {
d65 1
a65 1
ok(astr == """graph export_dot {
d79 1
a79 1
ok(astr == """digraph export_dot {
@
